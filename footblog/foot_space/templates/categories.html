{% extends 'base.html' %}

{% block content %}

{% load static %}

<style>

a {
color: black;
background-color: transparent;
text-decoration: none;
font-weight: bold;

}

h1{
position:relative;
margin: auto;
text-align:center;
padding:5px;
}

</style>
<head>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'css/cards.css' %}">

</head>



{% if category_post %}
<br/>
<h1>{{ cats }}</h1>


<div class="cards">
    {% for post in category_post %}
    <a href="{% url 'article-detail' post.pk %}">

                <div class="card">

                        {% if post.post_image %}
                        <img src="{{ post.post_image.url }}" class="card_image">
                        {% endif %}
                        <div class="card__content">


                            <div class="card__title">{{ post.title }}</div>

                            {{ post.body|safe|truncatewords:8 }}





                        <div class="post-metadata">
                            {{ post.category }} â€¢
                            {{ post.author }}<br/>
                            {{ post.post_date }}
                        </div>
                        </div>
                        </div>



            </a>

        {% if request.user.is_authenticated %}
         | <a href="{% url 'edit-post' post.pk %}" class="btn btn-dark btn-sm">Edit</a>

         | <a href="{% url 'delete-post' post.pk %}" class="btn btn-danger btn-sm">Delete</a>


        {% endif %}



{% endfor %}

</div>
{% else %}

<h2>This page does not exist!</h2>

{% endif %}
{% endblock %}
